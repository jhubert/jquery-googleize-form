/*
Copyright (c) 2012 Jeremy Hubert (http://github.com/jhubert)
Released under the MIT License. See LICENSE for details.
*/
(function(a){a.fn.GoogleizeForm=function(c){var f,e,d,b;d=a.extend({},a.fn.GoogleizeForm.defaults,c);b=function(g){var h;if(g===""){return false}h=d.emailRegex;return h.test(g)};f=function(h,i,g){return d.success()};e=function(i){var g,h;i.preventDefault();h=a(this);g=h.find(d.emailFieldSelector);if(!b(g.val())){d.invalidEmail(g);return false}c={};c.type="POST";c.dataType="jsonp";c.url=h.attr("action");c.data=h.serialize();c.error=f;a.ajax(c)};return this.each(function(){return a(this).on("submit",e)})};a.fn.GoogleizeForm.defaults={emailRegex:/^([\w-\.]+@([\w-]+\.)+[\w-]{2,4})?$/,emailFieldSelector:"#entry.0.single",success:function(){},invalidEmail:function(b){}}})(jQuery);